var croppedImages={};document.addEventListener("DOMContentLoaded",(function(){var cropper;var cropperModal=document.getElementById("cropperModal");cropperModal.addEventListener("shown.bs.modal",(function(){cropper&&cropper.resize()})),cropperModal.addEventListener("hidden.bs.modal",(function(){cropper&&(cropper.destroy(),cropper=null)})),window.openCropModal=function(event,inputId){var file=event.target.files[0],reader=new FileReader;reader.onload=function(e){var img=document.getElementById("cropperImage");img.src=e.target.result;var modal=new bootstrap.Modal(document.getElementById("cropperModal"));modal.show();var aspectRatio=1,cropWidth=256,cropHeight=256;"preview"===inputId&&(aspectRatio=1.5,cropWidth=1080,cropHeight=720),cropper&&cropper.destroy(),cropper=new Cropper(img,{aspectRatio:aspectRatio,viewMode:3,dragMode:"crop",cropBoxResizable:!0,cropBoxMovable:!0,zoomable:!1,scalable:!1}),document.getElementById("cropButton").onclick=function(){var canvas=cropper.getCroppedCanvas({width:cropWidth,height:cropHeight});croppedImages[inputId]=canvas.toDataURL("image/webp"),modal.hide()}},reader.readAsDataURL(file)}}));